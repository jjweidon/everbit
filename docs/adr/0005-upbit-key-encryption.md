# ADR 0005: Upbit Key Encryption

## 상태

수락됨

## 배경

업비트 API 키(accessKey, secretKey)는 민감 정보이며, DB 평문 저장 시 유출 위험이 있다.

## 결정

* 업비트 API 키는 **서버에 암호화 저장** 필수
* AES-GCM 등 인증 암호 사용
* 암호화 키(MASTER_KEY)는 **운영 VM 환경변수**로만 주입
* 키 등록 시 검증 API 호출, 성공 시에만 저장
* 키 폐기 시 DB에서 삭제/폐기 후 즉시 매매 비활성화

## 결과

* 키 유출 시에도 암호문만 노출, 운영 환경변수 없이는 복호화 불가
